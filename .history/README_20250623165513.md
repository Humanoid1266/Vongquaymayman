🎯 Vòng Quay May Mắn - Mô hình Multi Client-Server sử dụng WebSocket
📌 Mô tả đề tài
Đây là một ứng dụng mô phỏng trò chơi vòng quay may mắn được xây dựng dựa trên mô hình Client-Server nhiều người dùng (multi client-server) sử dụng WebSocket để giao tiếp giữa client và server. Ứng dụng được phát triển bằng HTML, CSS, và JavaScript cho phía client, cùng với Node.js và thư viện ws cho phía server.
Người chơi (client) có thể kết nối đến server thông qua trình duyệt, thực hiện thao tác "quay số" để nhận kết quả ngẫu nhiên từ vòng quay. Server xử lý yêu cầu quay và gửi phản hồi tương ứng đến từng client.

⚙️ Công nghệ sử dụng

Frontend:
Ngôn ngữ: HTML5, CSS3, JavaScript
Thư viện: WebSocket API, Canvas API, Web Audio API

Backend:
Ngôn ngữ: Node.js
Thư viện: Express.js (phục vụ file tĩnh), ws (WebSocket)


Lưu trữ:
LocalStorage (lịch sử quay cục bộ phía client)
JSON file (thống kê game trên server)


Mô hình mạng: WebSocket (TCP-based), hỗ trợ nhiều client đồng thời


🧩 Kiến trúc chương trình
Server (server.js):

Khởi tạo server Express và WebSocket lắng nghe trên một cổng cố định (mặc định: 2307).
Hỗ trợ nhiều client kết nối đồng thời thông qua WebSocket.
Xử lý yêu cầu quay số từ client, tạo kết quả ngẫu nhiên dựa trên xác suất phần thưởng, và gửi kết quả về client.
Lưu trữ thống kê game (tổng lượt quay, số người chơi trực tuyến, lịch sử quay) trong file game_stats.json.

Client (client.js, index.html, style.css):

Kết nối đến server thông qua WebSocket (ws://<server-host>:<port>).
Gửi yêu cầu quay số khi người dùng nhấn nút "QUAY NGAY!".
Nhận và hiển thị kết quả từ server với giao diện vòng quay trực quan sử dụng Canvas API.
Hỗ trợ hiệu ứng âm thanh (Web Audio API) và confetti khi thắng.
Hiển thị lịch sử quay, thống kê thời gian thực, và trạng thái kết nối.


📥 Cách chạy chương trình
Yêu cầu

Node.js: Phiên bản 14 trở lên
Trình duyệt: Chrome, Firefox, hoặc bất kỳ trình duyệt nào hỗ trợ WebSocket và Canvas
npm: Để cài đặt các phụ thuộc


✅ Tính năng

Kết nối nhiều client đồng thời: Hỗ trợ nhiều người chơi cùng tham gia qua WebSocket.
Quay số độc lập: Mỗi client gửi yêu cầu quay và nhận kết quả riêng biệt.
Xử lý kết quả ngẫu nhiên: Server tạo kết quả quay dựa trên xác suất phần thưởng.
Giao diện tương tác: Vòng quay trực quan với Canvas, hiệu ứng confetti, âm thanh, và thông báo.
Thống kê thời gian thực: Hiển thị tổng lượt quay, số người chơi trực tuyến, và lịch sử quay.
Hạn chế tốc độ: Giới hạn quay mỗi 3 giây để ngăn spam.
Lưu trữ lịch sử: Lưu lịch sử quay cục bộ (client) và toàn cục (server).
Giao diện responsive: Hỗ trợ tốt trên cả máy tính và thiết bị di động.


🧠 Hướng phát triển

Giao diện trực quan hơn: Thêm hiệu ứng hoạt hình phức tạp hơn cho vòng quay.
Hệ thống thưởng: Tích hợp cơ chế điểm số hoặc phần thưởng thực tế.
Lưu lịch sử nâng cao: Lưu trữ lịch sử quay vào cơ sở dữ liệu (MongoDB, MySQL).
Giao tiếp tùy chỉnh: Phát triển giao thức riêng để tối ưu hóa dữ liệu truyền.
Hỗ trợ thêm giao thức: Thử nghiệm với UDP hoặc nâng cấp lên WebSocket bảo mật (wss://).
Xác thực người dùng: Thêm đăng nhập để theo dõi lịch sử quay của từng người chơi.


📂 Cấu trúc dự án
lucky-wheel/
├── public/
│   ├── client.js     # Xử lý logic phía client (WebSocket, Canvas, UI)
│   ├── style.css     # CSS cho giao diện và hiệu ứng
│   └── index.html    # Giao diện chính của ứng dụng
├── server.js         # Server Express và WebSocket
├── game_stats.json   # Lưu trữ thống kê game (tự động tạo)
├── package.json      # Quản lý phụ thuộc npm
└── README.md         # Tài liệu hướng dẫn

